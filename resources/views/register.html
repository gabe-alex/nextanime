
{% set title = 'Register' %}

{% extends 'layout' %}

{% block content %}
  <h1>{{title}}</h1>

  {% if errors %}
    <div class="alert alert-danger">
      <strong>Registration failed:</strong>
      {% for fields, message in errors %}
        <div>{{ message }}</div>
      {% endfor %}
    </div>
  {%  endif %}

  <form method="post" role="form" >
    {{ csrfField | safe }}
    <div class="form-group{%if errors.username %} has-error has-feedback{% endif %}">
      <label for="username">Username:</label>
      <input type="text" name="username" class="form-control" value="{{ params.username }}" required>
      {% if errors.username %}<span class="glyphicon glyphicon-remove form-control-feedback"></span>{% endif %}
    </div>
    <div class="form-group{% if errors.password or errors.password_confirm %} has-error has-feedback{% endif %}">
      <label for="password">Password:</label>
      <input type="password" name="password" class="form-control" minlength=6 {%if not (errors.password or errors.password_confirm) %}value="{{ params.password }}"{% endif %} required>
      {% if errors.password or errors.password_confirm %}<span class="glyphicon glyphicon-remove form-control-feedback"></span>{% endif %}
    </div>
    <div class="form-group{% if errors.password_confirm %} has-error has-feedback{% endif %}">
      <label for="password_confirm">Password (confirm):</label>
      <input type="password" name="password_confirm" class="form-control" {%if not (errors.password or errors.password_confirm) %}value="{{ params.password_confirm }}"{% endif %} required>
      {% if errors.password_confirm %}<span class="glyphicon glyphicon-remove form-control-feedback"></span>{% endif %}
    </div>
    <button type="submit" class="btn btn-default">Submit</button>
  </form>
{% endblock %}
